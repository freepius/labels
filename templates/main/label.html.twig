{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}

{% block body_class %}container-label{% endblock %}

{% block body %}
    <!-- The label itself -->
    {{ include(label.templateName, {label}, with_context = false, sandboxed = true) }}

    <!-- Menu to navigate through the available labels -->
    <nav id="labels">
        <h1>{{ 'Labels'|trans }}</h1>
        <ul>
            {% for label in labels %}
                <li>
                    <a href="/label/{{ label.id }}">{{ label.id }}</a>
                </li>
            {% endfor %}
        </ul>
    </nav>

    <!-- Menu to print the current label on a page -->
    <nav id="pages">
        <h1>{{ 'Print on'|trans }}</h1>
        <ul>
            {% set queryParams = loadedVersions is empty ? '' : '?v=' ~ loadedVersions|join(',') %}
            {% for page in label.printableOn %}
                <li>
                    <a href="/page/{{ page }}/{{ label.id }}{{ queryParams }}">
                        {{ page }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    </nav>

    <!-- Menu to select the available versions of the current label -->
    <nav id="versions">
        <h1>{{ 'Versions'|trans }}</h1>
        <p>{{ 'Choose the versions to display'|trans }}</p>
        <ul>
            {% for version,_ in label.versions %}
                <li>
                    <input type="checkbox" id="version-{{ version }}" name="version" value="{{ version }}"
                        {% if version in loadedVersions %}checked{% endif %}>
                    <label for="version-{{ version }}">{{ version }}</label>
                </li>
            {% endfor %}
        </ul>
    </nav>

    <!-- Toolbox for label management -->
    <aside id="toolbox">
        <h1>{{ 'Toolbox'|trans }}</h1>

        <button id="turn-left" title="{{ 'Turn left'|trans }}">
            <i class="fa-solid fa-rotate-left"></i>
        </button>
        <button id="turn-right" title="{{ 'Turn right'|trans }}">
            <i class="fa-solid fa-rotate-right"></i>
        </button>
        <button id="reset" title="{{ 'Reset'|trans }}">
            <i class="fa-solid fa-rotate"></i>
        </button>
    </aside>
{% endblock %}
